<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mental Reset - A simple guided reflection tool for mental clarity">
    <title>Mental Reset</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <h1 class="app-title">Mental Reset</h1>
            <button class="icon-btn history-btn" id="historyBtn" aria-label="View history">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
            </button>
        </header>

        <!-- Main Content Area -->
        <main class="app-main">

            <!-- Screen 1: State Selection -->
            <div class="screen active" id="screen-state">
                <div class="screen-content">
                    <h2 class="screen-title">How are you feeling right now?</h2>
                    <p class="screen-subtitle">Choose what best describes your current state</p>
                    <div class="button-group">
                        <button class="state-btn" data-state="Overthinking">Overthinking</button>
                        <button class="state-btn" data-state="Anxious">Anxious</button>
                        <button class="state-btn" data-state="Stuck">Stuck</button>
                        <button class="state-btn" data-state="Tired">Tired</button>
                        <button class="state-btn" data-state="Overloaded">Mentally overloaded</button>
                    </div>
                </div>
            </div>

            <!-- Screen: Grounding Offer -->
            <div class="screen" id="screen-grounding-offer">
                <div class="screen-content">
                    <h2 class="screen-title">Pause a moment?</h2>
                    <p class="screen-subtitle">Before we continue, would you like to try a quick grounding exercise to
                        shift your state?</p>
                    <div class="button-group">
                        <button class="primary-btn" id="groundingYesBtn">Yes, let's try it</button>
                        <button class="secondary-btn" id="groundingSkipBtn">No, I just want to process my
                            thoughts</button>
                    </div>
                </div>
            </div>

            <!-- Screen: Grounding Selection -->
            <div class="screen" id="screen-grounding-selection">
                <div class="screen-content">
                    <h2 class="screen-title">Choose an exercise</h2>
                    <p class="screen-subtitle" id="groundingSubtitle"></p>
                    <div class="button-group" id="exerciseOptions">
                        <!-- Dynamically populated -->
                    </div>
                </div>
            </div>

            <!-- Screen: Grounding Walkthrough -->
            <div class="screen" id="screen-grounding-walkthrough">
                <div class="screen-content">
                    <h2 class="screen-title" id="exerciseTitle"></h2>

                    <div id="breathingAnimation" class="breathing-container" style="display: none;">
                        <div class="breath-visual">
                            <div class="breath-circle" id="breathCircle"></div>
                            <svg class="progress-ring-svg" width="200" height="200">
                                <circle class="progress-ring-circle" id="progressRing" stroke="currentColor"
                                    stroke-width="4" fill="transparent" r="90" cx="100" cy="100" />
                            </svg>
                        </div>
                        <p class="breath-text" id="breathText">Breathe In</p>
                        <p class="breath-instruction" id="breathInstruction">4</p>
                    </div>

                    <p class="screen-subtitle exercise-step" id="exerciseStep"></p>

                    <div class="progress-dots" id="exerciseProgress">
                        <!-- Dynamically populated -->
                    </div>

                    <button class="primary-btn" id="exerciseNextBtn">Next</button>
                </div>
            </div>

            <!-- Screen 2: Thought Externalization -->
            <div class="screen" id="screen-thought">
                <div class="screen-content">
                    <h2 class="screen-title">What's the main thought or situation looping right now?</h2>
                    <p class="screen-subtitle">This helps externalize what's on your mind</p>
                    <textarea id="thoughtInput" class="thought-input" placeholder="Type here..." rows="6"
                        maxlength="500"></textarea>
                    <p class="input-note">This text is private and won't be stored</p>
                    <button class="primary-btn" id="thoughtNextBtn">Continue</button>
                </div>
            </div>

            <!-- Screen 3: Control Question -->
            <div class="screen" id="screen-control">
                <div class="screen-content">
                    <h2 class="screen-title">Is there something you can realistically do about this in the next 24
                        hours?</h2>
                    <div class="button-group">
                        <button class="control-btn" data-control="Actionable">Yes</button>
                        <button class="control-btn" data-control="Non-actionable">No</button>
                    </div>
                </div>
            </div>

            <!-- Screen 4: Resolution -->
            <div class="screen" id="screen-resolution">
                <div class="screen-content">
                    <h2 class="screen-title" id="resolutionTitle">What is one small action you'll take?</h2>
                    <p class="screen-subtitle" id="resolutionSubtitle">Choose an option below</p>

                    <div class="button-group" id="resolutionOptions">
                        <!-- Dynamically populated -->
                    </div>

                    <div id="customResolution" style="display: none; margin-top: 1rem;">
                        <textarea id="resolutionInput" class="thought-input" placeholder="Type here..." rows="4"
                            maxlength="200"></textarea>
                        <button class="primary-btn" id="resolutionNextBtn">Continue</button>
                    </div>
                </div>
            </div>

            <!-- Screen 5: Reset Output -->
            <div class="screen" id="screen-output">
                <div class="screen-content">
                    <div class="output-card">
                        <h2 class="screen-title">Your Reset</h2>
                        <p class="output-summary" id="outputSummary"></p>
                        <p class="output-subtext" id="outputEncouragement"
                            style="font-weight: 500; color: var(--color-primary); margin-bottom: 2rem;"></p>

                        <div class="verse-container">
                            <p class="verse-text" id="verseText"></p>
                            <p class="verse-reference" id="verseReference"></p>
                        </div>

                        <div class="feedback-section">
                            <p class="feedback-question">Did this help you feel clearer?</p>
                            <div class="feedback-buttons">
                                <button class="feedback-btn" data-helpful="true" aria-label="Yes, helpful">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path
                                            d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3">
                                        </path>
                                    </svg>
                                    Yes
                                </button>
                                <button class="feedback-btn" data-helpful="false" aria-label="Not really helpful">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path
                                            d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17">
                                        </path>
                                    </svg>
                                    Not really
                                </button>
                            </div>
                        </div>

                        <button class="primary-btn" id="completeBtn">Complete Session</button>
                    </div>
                </div>
            </div>

            <!-- History/Insights Screen -->
            <div class="screen" id="screen-history">
                <div class="screen-content">
                    <h2 class="screen-title">Your Patterns</h2>

                    <div class="insights-container" id="insightsContainer">
                        <!-- Dynamically populated -->
                    </div>



                    <!-- Optional Feedback Screen -->
                    <div class="screen" id="screen-feedback">
                        <div class="screen-content">
                            <h2 class="screen-title">Anything confusing or missing?</h2>
                            <p class="screen-subtitle">One sentence is enough. This is optional.</p>
                            <textarea id="feedbackInput" class="thought-input" placeholder="Your feedback..." rows="4"
                                maxlength="300"></textarea>
                            <div class="feedback-actions">
                                <button class="primary-btn" id="sendFeedbackBtn">Email feedback to creator</button>
                                <button class="secondary-btn" id="skipFeedbackBtn">Skip</button>
                            </div>
                        </div>
                    </div>

                    <!-- Boundary Message -->
                    <div class="screen" id="screen-boundary">
                        <div class="screen-content">
                            <div class="boundary-card">
                                <h2 class="screen-title">A gentle pause</h2>
                                <p class="boundary-text">This tool is for reflection and clarity.</p>
                                <p class="boundary-text">If you're feeling overwhelmed right now, consider pausing and
                                    reaching
                                    out to someone you trust.</p>
                                <button class="primary-btn" id="boundaryOkBtn">Understood</button>
                            </div>
                        </div>
                    </div>

        </main>

        <!-- Footer -->
        <footer class="app-footer">
            <a href="mailto:your-email@example.com?subject=Mental%20Reset%20Feedback" class="footer-link">
                Share a thought / Suggest an improvement
            </a>
        </footer>
    </div>

    <script src="script.js"></script>
</body>

</html>